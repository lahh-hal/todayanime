<html>
  <head>
    <style>
      .day-header {
        font-weight: bold;
        margin: 10px 0 5px 0;
      }
      .anime-element {
        margin: 10px 0;
      }
    </style>
  </head>
  <body>
    <div id="anime-list-container"></div>
    <script>
      var animeListContainer = document.getElementById("anime-list-container");
      var xhr = new XMLHttpRequest();
      xhr.open("GET", "http://animemap.net/api/table/tokyo.json");
      xhr.onreadystatechange = function () {
        if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
          var animeData = JSON.parse(xhr.responseText);
          var animeByDay = {};
          animeData.forEach(function (anime) {
            var day = anime.start.substring(0, 3);
            if (!animeByDay[day]) {
              animeByDay[day] = [];
            }
            animeByDay[day].push(anime);
          });
          Object.keys(animeByDay).forEach(function (day) {
            var dayHeader = document.createElement("div");
            dayHeader.className = "day-header";
            dayHeader.textContent = day;
            animeListContainer.appendChild(dayHeader);
            animeByDay[day].forEach(function (anime) {
              var animeElement = document.createElement("div");
              animeElement.className = "anime-element";
              animeElement.textContent = anime.title + " - " + anime.start + " to " + anime.end;
              animeListContainer.appendChild(animeElement);
            });
          });
        }
      };
      xhr.send();
    </script>
  </body>
</html>
 
